<div class="container mt-5" style="font-size:13px">
  <ul class="list-group">
    <li class="list-group-item row d-flex justify-content-end">
      <div class="col-5 mt-2 fw-bold">
        <p class="text-center">IdTX</p>
      </div>
      <div class="col-2 mt-2 fw-bold">
        <p class="text-center">Valutazione</p>
      </div>
      <div class="col-4 mt-2 fw-bold">
        <p class="text-center">Note</p>
      </div>
      <div class="col-1 mt-2 fw-bold">
        <p class="text-center">Check</p>
      </div>
    </li>
    <li *ngFor="let val of this.valutazioni; index as i;" class="list-group-item row d-flex" id={{i}}>
      <div class="col-5 d-flex justify-content-center align-items-center">{{val.getIdTX()}}</div>
      <div class="col-2 d-flex justify-content-center align-items-center">{{val.getValutazione()}}</div>
      <div class="col-4 d-flex justify-content-center align-items-center">{{val.getNote()}}</div>
      <div class="col-1 d-flex justify-content-center align-items-center"><button
          (click)="checkMutability(i+'',val.getIdValutazione())" class="btn btn-info">check</button></div>
    </li>
  </ul>
</div>

<div class="d-flex justify-content-center mt-5">
  <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#staticBackdrop">Aggiungi
    valutazione</button>
</div>




<!-- Modal -->
<div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
  aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 *ngIf="this.loading==false" class="modal-title" id="staticBackdropLabel">Compilare i campi sottostanti</h5>
        <h5 *ngIf="this.loading==true" class="modal-title" id="staticBackdropLabel">Salvando dati su blockchain..</h5>
        <button id="closeModal" *ngIf="this.loading==false" type="button" class="btn-close" data-bs-dismiss="modal"
          aria-label="Close" (click)="this.dati.reset(); this.error=false"></button>
      </div>
      <div *ngIf="this.loading==false" class="modal-body">
        <span class="badge badge-danger mb-2 d-flex justify-content-center" style="background-color: red;" *ngIf="this.error">Dati non inviati alla blockchain, perfavore check</span>
        <form [formGroup]="dati" (ngSubmit)="invio()">
          <input type="text" class="form-control mb-2" formControlName="note"
            placeholder="note relative alla valutazione" />
          <input type="text" class="form-control" formControlName="valutazione"
            placeholder="voto relativo alla valutazione" />
          <div class="d-flex justify-content-center">
            <input type="submit" class="btn btn-primary mt-2" value="Aggiungi" [disabled]="dati.invalid" />
          </div>
        </form>


      </div>
      <div *ngIf="this.loading==true" class="modal-body d-flex justify-content-center">
        <div class="loader"></div>
      </div>


    </div>
  </div>
</div>